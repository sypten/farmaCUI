---
import Layout from '../../layouts/Layout.astro';
import AdminGuard from '../../components/AdminGuard.jsx';
import AdminDashboard from '../../components/admin/AdminDashboard.jsx';

// Â¡Sin lÃ³gica de servidor! Todo lo maneja React en el cliente.
---

<Layout title="Panel de Control - FarmaCUI">
  <div class="bg-gray-100 min-h-screen font-sans">
    
    <header class="bg-white shadow mb-8 sticky top-0 z-40">
      <div class="container mx-auto px-4 py-4 flex justify-between items-center">
        <div class="flex items-center gap-2">
            <span class="text-2xl">âš™ï¸</span>
            <h1 class="text-xl font-bold text-farma-primary">Panel de Control</h1>
        </div>

        <nav class="flex gap-6 text-sm">
          <a href="/admin" class="text-farma-primary font-bold border-b-2 border-farma-primary pb-1 px-2">ğŸ“¦ Productos</a>
          <a href="/admin/ventas" class="text-gray-500 hover:text-farma-primary transition pb-1 px-2">ğŸ’° Ventas</a>
          <a href="/" class="text-gray-400 hover:text-farma-secondary ml-4 border-l border-gray-300 pl-4">Ir a la tienda â†—</a>
        </nav>
      </div>
    </header>

    <main class="container mx-auto px-4 pb-12">
      
      <AdminGuard client:only="react" allowedRoles={['admin', 'superadmin', 'staff']}>
          <AdminDashboard client:only="react" />
      </AdminGuard>

    </main>
  </div>
</Layout>